"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[918],{5439:(e,s,a)=>{a.d(s,{A:()=>_});const n={pagination:"Pagination_pagination__vcNDC",pagination__item:"Pagination_pagination__item__ttRTG","pagination__item--active":"Pagination_pagination__item--active__INs0r",pagination__arrow:"Pagination_pagination__arrow__OhTwl","pagination__arrow--prev":"Pagination_pagination__arrow--prev__j1sDx"};a(5043);const i=a.p+"static/media/arrow_next.ba66ee1f9689f1767ef2bb9e4e8c3cc4.svg";var r=a(579);const _=e=>{let s=Math.max(e.currentPage-4,1),a=Math.min(s+e.itemsPerPage-1,e.pagesCount);a-s<e.itemsPerPage-1&&(s=Math.max(a-e.itemsPerPage+1,1));let _=[];for(let n=s;n<=a;n++)_.push(n);return(0,r.jsxs)("div",{className:n.pagination,children:[e.pagesCount>9&&(0,r.jsx)("button",{className:`${n.pagination__item} ${n.pagination__arrow} ${n["pagination__arrow--prev"]}`,onClick:()=>{e.changePage(e.currentPage-1)},disabled:e.currentPage<2,children:(0,r.jsx)("img",{src:i,alt:"\u041d\u0430\u0437\u0430\u0434"})}),_.map(((s,a)=>(0,r.jsx)("span",{className:e.currentPage===s?`${n.pagination__item} ${n["pagination__item--active"]}`:n.pagination__item,onClick:()=>{e.changePage(s)},children:s},s))),e.pagesCount>e.itemsPerPage&&(0,r.jsx)("button",{className:`${n.pagination__item} ${n.pagination__arrow} ${n["pagination__arrow--next"]}`,onClick:()=>{e.changePage(e.currentPage+1)},disabled:e.currentPage===e.pagesCount,children:(0,r.jsx)("img",{src:i,alt:"\u0414\u0430\u043b\u0435\u0435"})})]})}},5456:(e,s,a)=>{a.d(s,{A:()=>P});var n=a(5475);const i="User_user__fnnmF",r="User_user__aside__9iv8D",_="User_user__img__AiIlB",t="User_user__button__K8cWr",o="User_user__button--active__QE7SE",l="User_user__info__oayEH",c="User_user__link__ThUFU",g="User_user__data__bMaTF",u="User_user__name__mn9q5",d="User_user__status__FtfPl",p="User_user__location__mekM-";var m=a(6676),h=a(579);const P=e=>{const s=e.user;return(0,h.jsxs)("div",{className:i,children:[(0,h.jsxs)("div",{className:r,children:[(0,h.jsx)(n.k2,{to:"/profile/"+s.id,children:(0,h.jsx)("div",{className:_,children:(0,h.jsx)("img",{src:s.photos.small?s.photos.small:m,alt:""})})}),(0,h.jsx)("button",{onClick:s.followed?()=>{e.unfollowUserThunk(s.id)}:()=>{e.followUserThunk(s.id)},className:s.followed?`${t} ${o}`:`${t}`,disabled:e.followingInProcess.some((e=>e===s.id)),children:s.followed?"Unfollow":"Follow"})]}),(0,h.jsx)("div",{className:l,children:(0,h.jsxs)(n.k2,{to:"/profile/"+s.id,className:c,children:[(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("p",{className:u,children:s.name}),(0,h.jsx)("p",{className:d,children:s.status})]}),(0,h.jsx)("div",{className:p,children:(0,h.jsx)("p",{children:"\u0420\u043e\u0441\u0441\u0438\u044f, \u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434"})})]})})]})}},1918:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var n=a(5043),i=a(3003),r=a(1346),_=a(5456),t=a(4896),o=a(5439),l=a(579);const c=()=>{const e=(0,i.d4)((e=>e.usersPage.users)),s=(0,i.d4)((e=>e.usersPage.currentPage)),a=(0,i.d4)((e=>e.usersPage.totalUsersCount)),c=(0,i.d4)((e=>e.usersPage.pageSize)),g=(0,i.d4)((e=>e.usersPage.followingInProcess)),u=(0,i.wA)();(0,n.useEffect)((()=>{0===e.length&&u((0,t.Hz)(s,c))}),[e.length]);const d=e=>{u((0,t._A)(e))},p=e=>{u((0,t.p3)(e))},m=(e,s)=>{u((0,t.wr)(e,s))},h=e=>{u((0,t.vk)(e))},P=e=>{u((0,t.gN)(e))},w=e.map((e=>(0,l.jsx)(_.A,{user:e,follow:d,unfollow:p,setFollowingStatus:m,followingInProcess:g,followUserThunk:h,unfollowUserThunk:P},e.id)));let x=Math.ceil(a/c);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:r.A.users_head,children:(0,l.jsx)("h1",{children:"Users"})}),(0,l.jsx)("div",{className:r.A.users_list,children:w}),(0,l.jsx)(o.A,{pagesCount:x,currentPage:s,itemsPerPage:9,changePage:e=>{u((0,t.Tk)(e)),u((0,t.Hz)(e,c))}})]})}},1346:(e,s,a)=>{a.d(s,{A:()=>n});const n={users_head:"Users_users_head__d4RQM",user_wrap:"Users_user_wrap__C8aIv",users_list:"Users_users_list__yqcvh","users_list--loading":"Users_users_list--loading__aXAOR"}},6676:(e,s,a)=>{e.exports=a.p+"static/media/channels4_profile.dbe0fbb65967637776d2.jpg"}}]);
//# sourceMappingURL=918.6fd6aa26.chunk.js.map