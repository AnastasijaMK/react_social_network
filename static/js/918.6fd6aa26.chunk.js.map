{"version":3,"file":"static/js/918.6fd6aa26.chunk.js","mappings":"gHACA,SAAgB,WAAa,+BAA+B,iBAAmB,qCAAqC,2BAA2B,6CAA6C,kBAAoB,sCAAsC,0BAA0B,6C,QCiChR,MACA,EAAe,IAA0B,+D,aC/BzC,MAuDA,EAvDoBA,IAEhB,IAAIC,EAAYC,KAAKC,IAAIH,EAAMI,YAAc,EAAG,GAC5CC,EAAUH,KAAKI,IAAIL,EAAYD,EAAMO,aAAe,EAAGP,EAAMQ,YAG7DH,EAAUJ,EAAYD,EAAMO,aAAe,IAC3CN,EAAYC,KAAKC,IAAIE,EAAUL,EAAMO,aAAe,EAAG,IAG3D,IAAIE,EAAQ,GACZ,IAAK,IAAIC,EAAET,EAAWS,GAAGL,EAASK,IAC9BD,EAAME,KAAKD,GAGf,OACIE,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAQC,WAAWC,SAAA,CAC9BhB,EAAMQ,WAAa,IACpBS,EAAAA,EAAAA,KAAA,UAAQJ,UAAW,GAAGC,EAAQI,oBAAoBJ,EAAQK,qBAAqBL,EAAQ,6BAC/EM,QAASA,KACLpB,EAAMqB,WAAWrB,EAAMI,YAAc,EAAE,EAE3CkB,SAAUtB,EAAMI,YAAc,EAAiBY,UACnDC,EAAAA,EAAAA,KAAA,OAAKM,IAAKC,EAAWC,IAAI,qCAKzBhB,EAAMiB,KAAI,CAACC,EAAMC,KAETX,EAAAA,EAAAA,KAAA,QACMJ,UAAWb,EAAMI,cAAgBuB,EAAO,GAAGb,EAAQI,oBAAoBJ,EAAQ,8BAAgCA,EAAQI,iBACvHE,QAASA,KACLpB,EAAMqB,WAAWM,EAAK,EACxBX,SACKW,GALFA,KAWtB3B,EAAMQ,WAAaR,EAAMO,eAC1BU,EAAAA,EAAAA,KAAA,UACIJ,UAAW,GAAGC,EAAQI,oBAAoBJ,EAAQK,qBAAqBL,EAAQ,6BAC/EM,QAASA,KACLpB,EAAMqB,WAAWrB,EAAMI,YAAc,EAAE,EAE3CkB,SAAUtB,EAAMI,cAAgBJ,EAAMQ,WAA0BQ,UAChEC,EAAAA,EAAAA,KAAA,OAAKM,IAAKC,EAAWC,IAAI,uCAG3B,C,gDCtDd,QAAuB,mBAAvB,EAAwD,0BAAxD,EAA8F,wBAA9F,EAAqI,2BAArI,EAAuL,mCAAvL,EAAuO,yBAAvO,EAA6Q,yBAA7Q,EAAmT,yBAAnT,EAAyV,yBAAzV,EAAiY,2BAAjY,EAA6a,6B,uBCI7a,MAgDA,EAhDczB,IACV,MAAM6B,EAAO7B,EAAM6B,KAUnB,OACIjB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaE,SAAA,EACzBJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAoBE,SAAA,EAChCC,EAAAA,EAAAA,KAACa,EAAAA,GAAO,CAACC,GAAI,YAAcF,EAAKG,GAAGhB,UAC/BC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAkBE,UAElCC,EAAAA,EAAAA,KAAA,OAAKM,IAAKM,EAAKI,OAAOC,MAAQL,EAAKI,OAAOC,MAAQC,EAAWV,IAAI,UAMrER,EAAAA,EAAAA,KAAA,UAAQG,QAASS,EAAKO,SAhBbC,KACjBrC,EAAMsC,kBAAkBT,EAAKG,GAAG,EALjBO,KACfvC,EAAMwC,gBAAgBX,EAAKG,GAAG,EAoBdnB,UAAWgB,EAAKO,SAAW,GAAGtB,KAAwBA,IAAoC,GAAGA,IAC7FQ,SAAUtB,EAAMyC,mBAAmBC,MAAKV,GAAMA,IAAOH,EAAKG,KAAIhB,SACjEa,EAAKO,SAAW,WAAa,eAGtCnB,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAmBE,UAC/BJ,EAAAA,EAAAA,MAACkB,EAAAA,GAAO,CAACC,GAAI,YAAcF,EAAKG,GAAInB,UAAWC,EAAmBE,SAAA,EAC9DJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAmBE,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,KAAGJ,UAAWC,EAAmBE,SAAEa,EAAKc,QACxC1B,EAAAA,EAAAA,KAAA,KAAGJ,UAAWC,EAAqBE,SAAEa,EAAKe,aAE9C3B,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAuBE,UAEnCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,yIAOb,C,wHChCd,MAiFA,EAjFc6B,KACV,MAAMC,GAAYC,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,UAAUC,QACjD9C,GAAc2C,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,UAAU7C,cACnD+C,GAAkBJ,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,UAAUE,kBACvDC,GAAWL,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,UAAUG,WAChDX,GAAqBM,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,UAAUR,qBAC1DY,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,KACkB,IAArBT,EAAUU,QASTH,GAASI,EAAAA,EAAAA,IAAqBrD,EAAagD,GAC/C,GACD,CAACN,EAAUU,SAEd,MAAME,EAAY1B,IAChBqB,GAASM,EAAAA,EAAAA,IAAS3B,GAAI,EAGlB4B,EAAc5B,IAChBqB,GAASQ,EAAAA,EAAAA,IAAW7B,GAAI,EAGtB8B,EAAuBA,CAACC,EAAgB/B,KAC1CqB,GAASW,EAAAA,EAAAA,IAAqBD,EAAgB/B,GAAI,EAGhDQ,EAAmBR,IACrBqB,GAASY,EAAAA,EAAAA,IAAuBjC,GAAI,EAGlCM,EAAqBN,IACvBqB,GAASa,EAAAA,EAAAA,IAAyBlC,GAAI,EAIpCmC,EAAYrB,EAAUpB,KAAKG,IAEzBZ,EAAAA,EAAAA,KAACmD,EAAAA,EAAI,CACCvC,KAAMA,EACNwC,OAAQX,EACRY,SAAUV,EACVW,mBAAoBT,EACpBrB,mBAAoBA,EACpBD,gBAAiBA,EACjBF,kBAAmBA,GAPdT,EAAKG,MAaxB,IAAIxB,EAAaN,KAAKsE,KAAKrB,EAAkBC,GAU7C,OACIxC,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACIC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAAA,EAAQ2D,WAAWzD,UAC/BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aAERC,EAAAA,EAAAA,KAAA,OAAKJ,UAAWC,EAAAA,EAAQ4D,WAAW1D,SAC9BmD,KAELlD,EAAAA,EAAAA,KAAC0D,EAAAA,EAAU,CAACnE,WAAYA,EAAYJ,YAAaA,EAAaG,aAjBjD,EAiB6Ec,WAd5EuD,IAClBvB,GAASwB,EAAAA,EAAAA,IAAiBD,IAC1BvB,GAASI,EAAAA,EAAAA,IAAqBmB,EAAYxB,GAAU,MAa9C,C,kCC7Fd,SAAgB,WAAa,0BAA0B,UAAY,yBAAyB,WAAa,0BAA0B,sBAAsB,mC","sources":["webpack://my-app/./src/components/Pagination/Pagination.module.css?4da5","assets/img/arrow_next.svg","components/Pagination/Pagination.jsx","webpack://my-app/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.jsx","components/Users/Users.jsx","webpack://my-app/./src/components/Users/Users.module.css?b9d0"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__vcNDC\",\"pagination__item\":\"Pagination_pagination__item__ttRTG\",\"pagination__item--active\":\"Pagination_pagination__item--active__INs0r\",\"pagination__arrow\":\"Pagination_pagination__arrow__OhTwl\",\"pagination__arrow--prev\":\"Pagination_pagination__arrow--prev__j1sDx\"};","var _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgArrowNext(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 512,\n    height: 512,\n    x: 0,\n    y: 0,\n    viewBox: \"0 0 240.823 240.823\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    className: \"\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M183.189 111.816 74.892 3.555c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.297-108.261c4.68-4.691 4.68-12.511-.012-17.19z\",\n    fill: \"#000000\",\n    opacity: 1,\n    \"data-original\": \"#000000\",\n    className: \"\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowNext);\nexport default __webpack_public_path__ + \"static/media/arrow_next.ba66ee1f9689f1767ef2bb9e4e8c3cc4.svg\";\nexport { ForwardRef as ReactComponent };","import classes from './Pagination.module.css';\nimport arrowNext from \"../../assets/img/arrow_next.svg\";\nimport React from \"react\";\n\nconst Pagination = (props)=>{\n    // Определяем видимые страницы\n    let startPage = Math.max(props.currentPage - 4, 1);\n    let endPage = Math.min(startPage + props.itemsPerPage - 1, props.pagesCount);\n\n    // Корректируем начало, если конец больше общего числа страниц\n    if (endPage - startPage < props.itemsPerPage - 1) {\n        startPage = Math.max(endPage - props.itemsPerPage + 1, 1);\n    }\n\n    let pages = [];\n    for (let i=startPage; i<=endPage; i++) {\n        pages.push(i);\n    }\n\n    return (\n        <div className={classes.pagination}>\n            {props.pagesCount > 9 &&\n            <button className={`${classes.pagination__item} ${classes.pagination__arrow} ${classes['pagination__arrow--prev']}`}\n                    onClick={() => {\n                        props.changePage(props.currentPage - 1)\n                    }}\n                    disabled={props.currentPage < 2 ? true : false} >\n                <img src={arrowNext} alt=\"Назад\"/>\n            </button>\n            }\n\n            {\n                pages.map((page, index) => {\n                    return (\n                        <span key={page}\n                              className={props.currentPage === page ? `${classes.pagination__item} ${classes['pagination__item--active']}` : classes.pagination__item}\n                              onClick={() => {\n                                  props.changePage(page)\n                              }}>\n                                    {page}\n                                </span>\n                    )\n                })\n            }\n\n            {props.pagesCount > props.itemsPerPage &&\n            <button\n                className={`${classes.pagination__item} ${classes.pagination__arrow} ${classes['pagination__arrow--next']}`}\n                onClick={() => {\n                    props.changePage(props.currentPage + 1)\n                }}\n                disabled={props.currentPage === props.pagesCount ? true : false} >\n                <img src={arrowNext} alt=\"Далее\"/>\n            </button>\n            }\n        </div>\n    )\n};\n\nexport default Pagination;","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__fnnmF\",\"user__aside\":\"User_user__aside__9iv8D\",\"user__img\":\"User_user__img__AiIlB\",\"user__button\":\"User_user__button__K8cWr\",\"user__button--active\":\"User_user__button--active__QE7SE\",\"user__info\":\"User_user__info__oayEH\",\"user__link\":\"User_user__link__ThUFU\",\"user__data\":\"User_user__data__bMaTF\",\"user__name\":\"User_user__name__mn9q5\",\"user__status\":\"User_user__status__FtfPl\",\"user__location\":\"User_user__location__mekM-\"};","import {NavLink} from \"react-router-dom\";\n\nimport classes from \"./User.module.css\";\nimport userPhoto from '../../../assets/img/channels4_profile.jpg';\n\nconst User = (props) => {\n    const user = props.user;\n\n    const followUser = ()=>{\n        props.followUserThunk(user.id);\n    };\n\n    const unfollowUser = ()=>{\n        props.unfollowUserThunk(user.id);\n    };\n\n    return (\n        <div className={classes.user}>\n            <div className={classes.user__aside}>\n                <NavLink to={'/profile/' + user.id}>\n                    <div className={classes.user__img}>\n                    {/*Для внешнего запроса*/}\n                    <img src={user.photos.small ? user.photos.small : userPhoto} alt=\"\"/>\n\n                    {/*Для внутреннего запроса на users.json*/}\n                    {/*<img src={user.img ? user.img : userPhoto} alt={user.name}/>*/}\n                </div>\n                </NavLink>\n                <button onClick={user.followed ? unfollowUser : followUser}\n                        className={user.followed ? `${classes.user__button} ${classes['user__button--active']}` : `${classes.user__button}`}\n                        disabled={props.followingInProcess.some(id => id === user.id)}>\n                    {user.followed ? 'Unfollow' : 'Follow'}\n                </button>\n            </div>\n            <div className={classes.user__info}>\n                <NavLink to={'/profile/' + user.id} className={classes.user__link}>\n                    <div className={classes.user__data}>\n                        <p className={classes.user__name}>{user.name}</p>\n                        <p className={classes.user__status}>{user.status}</p>\n                    </div>\n                    <div className={classes.user__location}>\n                        {/*Для внешнего запроса*/}\n                        <p>Россия, Нижний Новгород</p>\n\n                        {/*Для внутреннего запроса на users.json*/}\n                        {/*<p>{`${user.location.country}, ${user.location.city}`}</p>*/}\n                    </div>\n                </NavLink>\n            </div>\n        </div>\n    )\n};\n\nexport default User;","// Реализация с помощью Redux\nimport React, { useEffect } from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport classes from './Users.module.css';\nimport User from \"./User/User\";\nimport {\n    followAC,\n    followUserThunkCreator,\n    getUsersThunkCreator,\n    setCurrentPageAC,\n    setFollowingStatusAC,\n    unfollowAC,\n    unfollowUserThunkCreator\n} from \"../../redux/users-reducer\";\nimport Pagination from \"../Pagination/Pagination\";\n\n\nconst Users = ()=>{\n    const usersData = useSelector(state => state.usersPage.users);\n    const currentPage = useSelector(state => state.usersPage.currentPage);\n    const totalUsersCount = useSelector(state => state.usersPage.totalUsersCount);\n    const pageSize = useSelector(state => state.usersPage.pageSize);\n    const followingInProcess = useSelector(state => state.usersPage.followingInProcess);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if(usersData.length === 0) {\n            // Внутренний запрос\n            // fetch('/api/users.json')\n            //     .then(response => response.json())\n            //     .then(response => {\n            //         dispatch(setUsersAC(response));\n            //     });\n\n            // Внешний запрос\n            dispatch(getUsersThunkCreator(currentPage, pageSize));\n        }\n    }, [usersData.length]); // Добавлено состояние зависимостей\n\n    const onFollow = (id)=>{\n      dispatch(followAC(id));\n    };\n\n    const onUnfollow = (id)=>{\n        dispatch(unfollowAC(id));\n    };\n\n    const onSetFollowingStatus = (fetchingStatus, id)=>{\n        dispatch(setFollowingStatusAC(fetchingStatus, id));\n    };\n\n    const followUserThunk = (id)=>{\n        dispatch(followUserThunkCreator(id));\n    };\n\n    const unfollowUserThunk = (id)=>{\n        dispatch(unfollowUserThunkCreator(id));\n    };\n\n\n    const usersList = usersData.map((user)=>{\n        return (\n            <User key={user.id}\n                  user={user}\n                  follow={onFollow}\n                  unfollow={onUnfollow}\n                  setFollowingStatus={onSetFollowingStatus}\n                  followingInProcess={followingInProcess}\n                  followUserThunk={followUserThunk}\n                  unfollowUserThunk={unfollowUserThunk}\n            />\n        )\n    })\n\n\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\n    const itemsPerPage = 9;\n\n\n    const onPageChange = (pageNumber)=>{\n        dispatch(setCurrentPageAC(pageNumber));\n        dispatch(getUsersThunkCreator(pageNumber, pageSize));\n    };\n\n\n    return(\n        <div>\n            <div className={classes.users_head}>\n                <h1>Users</h1>\n            </div>\n            <div className={classes.users_list}>\n                {usersList}\n            </div>\n            <Pagination pagesCount={pagesCount} currentPage={currentPage} itemsPerPage={itemsPerPage} changePage={onPageChange}/>\n        </div>\n    );\n}\n\nexport default Users;","// extracted by mini-css-extract-plugin\nexport default {\"users_head\":\"Users_users_head__d4RQM\",\"user_wrap\":\"Users_user_wrap__C8aIv\",\"users_list\":\"Users_users_list__yqcvh\",\"users_list--loading\":\"Users_users_list--loading__aXAOR\"};"],"names":["props","startPage","Math","max","currentPage","endPage","min","itemsPerPage","pagesCount","pages","i","push","_jsxs","className","classes","pagination","children","_jsx","pagination__item","pagination__arrow","onClick","changePage","disabled","src","arrowNext","alt","map","page","index","user","NavLink","to","id","photos","small","userPhoto","followed","unfollowUser","unfollowUserThunk","followUser","followUserThunk","followingInProcess","some","name","status","Users","usersData","useSelector","state","usersPage","users","totalUsersCount","pageSize","dispatch","useDispatch","useEffect","length","getUsersThunkCreator","onFollow","followAC","onUnfollow","unfollowAC","onSetFollowingStatus","fetchingStatus","setFollowingStatusAC","followUserThunkCreator","unfollowUserThunkCreator","usersList","User","follow","unfollow","setFollowingStatus","ceil","users_head","users_list","Pagination","pageNumber","setCurrentPageAC"],"sourceRoot":""}