"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[718],{5439:(e,s,t)=>{t.d(s,{A:()=>i});const n={pagination:"Pagination_pagination__vcNDC",pagination__item:"Pagination_pagination__item__ttRTG","pagination__item--active":"Pagination_pagination__item--active__INs0r",pagination__arrow:"Pagination_pagination__arrow__OhTwl","pagination__arrow--prev":"Pagination_pagination__arrow--prev__j1sDx"};t(5043);const o=t.p+"static/media/arrow_next.ba66ee1f9689f1767ef2bb9e4e8c3cc4.svg";var r=t(579);const i=e=>{let s=Math.max(e.currentPage-4,1),t=Math.min(s+e.itemsPerPage-1,e.pagesCount);t-s<e.itemsPerPage-1&&(s=Math.max(t-e.itemsPerPage+1,1));let i=[];for(let n=s;n<=t;n++)i.push(n);return(0,r.jsxs)("div",{className:n.pagination,children:[e.pagesCount>9&&(0,r.jsx)("button",{className:`${n.pagination__item} ${n.pagination__arrow} ${n["pagination__arrow--prev"]}`,onClick:()=>{e.changePage(e.currentPage-1)},disabled:e.currentPage<2,children:(0,r.jsx)("img",{src:o,alt:"\u041d\u0430\u0437\u0430\u0434"})}),i.map(((s,t)=>(0,r.jsx)("span",{className:e.currentPage===s?`${n.pagination__item} ${n["pagination__item--active"]}`:n.pagination__item,onClick:()=>{e.changePage(s)},children:s},s))),e.pagesCount>e.itemsPerPage&&(0,r.jsx)("button",{className:`${n.pagination__item} ${n.pagination__arrow} ${n["pagination__arrow--next"]}`,onClick:()=>{e.changePage(e.currentPage+1)},disabled:e.currentPage===e.pagesCount,children:(0,r.jsx)("img",{src:o,alt:"\u0414\u0430\u043b\u0435\u0435"})})]})}},5456:(e,s,t)=>{t.d(s,{A:()=>m});var n=t(5475);const o="User_user__fnnmF",r="User_user__aside__9iv8D",i="User_user__img__AiIlB",a="User_user__button__K8cWr",l="User_user__button--active__QE7SE",u="User_user__info__oayEH",c="User_user__link__ThUFU",p="User_user__data__bMaTF",g="User_user__name__mn9q5",_="User_user__status__FtfPl",h="User_user__location__mekM-";var d=t(6676),f=t(579);const m=e=>{const s=e.user;return(0,f.jsxs)("div",{className:o,children:[(0,f.jsxs)("div",{className:r,children:[(0,f.jsx)(n.k2,{to:"/profile/"+s.id,children:(0,f.jsx)("div",{className:i,children:(0,f.jsx)("img",{src:s.photos.small?s.photos.small:d,alt:""})})}),(0,f.jsx)("button",{onClick:s.followed?()=>{e.unfollowUserThunk(s.id)}:()=>{e.followUserThunk(s.id)},className:s.followed?`${a} ${l}`:`${a}`,disabled:e.followingInProcess.some((e=>e===s.id)),children:s.followed?"Unfollow":"Follow"})]}),(0,f.jsx)("div",{className:u,children:(0,f.jsxs)(n.k2,{to:"/profile/"+s.id,className:c,children:[(0,f.jsxs)("div",{className:p,children:[(0,f.jsx)("p",{className:g,children:s.name}),(0,f.jsx)("p",{className:_,children:s.status})]}),(0,f.jsx)("div",{className:h,children:(0,f.jsx)("p",{children:"\u0420\u043e\u0441\u0441\u0438\u044f, \u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434"})})]})})]})}},8718:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var n=t(5043),o=t(3003),r=t(4896),i=t(1346),a=t(5456),l=t(5439),u=t(2256),c=t(579);const p=e=>{const s=Math.ceil(e.totalUsersCount/e.pageSize);return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:i.A.users_head,children:(0,c.jsx)("h1",{children:"Users"})}),(0,c.jsxs)("div",{className:i.A.user_wrap,children:[(0,c.jsx)("div",{className:e.isFetching?`${i.A.users_list} ${i.A["users_list--loading"]}`:i.A.users_list,children:e.users.map((s=>(0,c.jsx)(a.A,{user:s,follow:e.follow,unfollow:e.unfollow,setFollowingStatus:e.setFollowingStatus,followingInProcess:e.followingInProcess,followUserThunk:e.followUserThunk,unfollowUserThunk:e.unfollowUserThunk},s.id)))}),e.isFetching&&(0,c.jsx)(u.A,{parent:"user_loading"}),(0,c.jsx)(l.A,{pagesCount:s,currentPage:e.currentPage,itemsPerPage:9,changePage:e.onPageChange})]})]})};function g(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var _=e=>Array.isArray(e)?e:[e];function h(e){const s=Array.isArray(e[0])?e[0]:e;return function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const t=e.map((e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${s}[${t}]`)}}(s,"createSelector expects all input-selectors to be functions, but received the following types: "),s}Symbol(),Object.getPrototypeOf({});var d="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function f(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=s;let o,r=0;function i(){let s=t;const{length:i}=arguments;for(let e=0,t=i;e<t;e++){const t=arguments[e];if("function"===typeof t||"object"===typeof t&&null!==t){let e=s.o;null===e&&(s.o=e=new WeakMap);const n=e.get(t);void 0===n?(s={s:0,v:void 0,o:null,p:null},e.set(t,s)):s=n}else{let e=s.p;null===e&&(s.p=e=new Map);const n=e.get(t);void 0===n?(s={s:0,v:void 0,o:null,p:null},e.set(t,s)):s=n}}const a=s;let l;if(1===s.s)l=s.v;else if(l=e.apply(null,arguments),r++,n){const e=o?.deref?.()??o;null!=e&&n(e,l)&&(l=e,0!==r&&r--);o="object"===typeof l&&null!==l||"function"===typeof l?new d(l):l}return a.s=1,a.v=l,l}return i.clearCache=()=>{t={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>r,i.resetResultsCount=()=>{r=0},i}function m(e){for(var s=arguments.length,t=new Array(s>1?s-1:0),n=1;n<s;n++)t[n-1]=arguments[n];const o="function"===typeof e?{memoize:e,memoizeOptions:t}:e,r=function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];let n,r=0,i=0,a={},l=s.pop();"object"===typeof l&&(a=l,l=s.pop()),g(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const u={...o,...a},{memoize:c,memoizeOptions:p=[],argsMemoize:d=f,argsMemoizeOptions:m=[],devModeChecks:w={}}=u,v=_(p),P=_(m),y=h(s),j=c((function(){return r++,l.apply(null,arguments)}),...v);const x=d((function(){i++;const e=function(e,s){const t=[],{length:n}=e;for(let o=0;o<n;o++)t.push(e[o].apply(null,s));return t}(y,arguments);return n=j.apply(null,e),n}),...P);return Object.assign(x,{resultFunc:l,memoizedResultFunc:j,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>n,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var w=m(f),v=Object.assign((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const t=Object.keys(e),n=s(t.map((s=>e[s])),(function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return s.reduce(((e,s,n)=>(e[t[n]]=s,e)),{})}));return n}),{withTypes:()=>v});const P=w((e=>e.usersPage.users),(e=>e)),y=e=>e.usersPage.pageSize,j=e=>e.usersPage.totalUsersCount,x=e=>e.usersPage.currentPage,U=e=>e.usersPage.isFetching,k=e=>e.usersPage.followingInProcess;class b extends n.Component{constructor(){super(...arguments),this.onPageChange=e=>{this.props.setCurrentPage(e),this.props.getUsersThunk(e,this.props.pageSize)}}componentDidMount(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}render(){return(0,c.jsx)(p,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,currentPage:this.props.currentPage,onPageChange:this.onPageChange,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching,setFollowingStatus:this.props.setFollowingStatus,followingInProcess:this.props.followingInProcess,followUserThunk:this.props.followUserThunk,unfollowUserThunk:this.props.unfollowUserThunk})}}const C=(0,o.Ng)((e=>({users:P(e),pageSize:y(e),totalUsersCount:j(e),currentPage:x(e),isFetching:U(e),followingInProcess:k(e)})),(e=>({follow:s=>{e((0,r._A)(s))},unfollow:s=>{e((0,r.p3)(s))},setCurrentPage:s=>{e((0,r.Tk)(s))},setFollowingStatus:(s,t)=>{e((0,r.wr)(s,t))},getUsersThunk:(s,t)=>{e((0,r.Hz)(s,t))},followUserThunk:s=>{e((0,r.vk)(s))},unfollowUserThunk:s=>{e((0,r.gN)(s))}})))(b)},1346:(e,s,t)=>{t.d(s,{A:()=>n});const n={users_head:"Users_users_head__d4RQM",user_wrap:"Users_user_wrap__C8aIv",users_list:"Users_users_list__yqcvh","users_list--loading":"Users_users_list--loading__aXAOR"}},6676:(e,s,t)=>{e.exports=t.p+"static/media/channels4_profile.dbe0fbb65967637776d2.jpg"}}]);
//# sourceMappingURL=718.086dd351.chunk.js.map