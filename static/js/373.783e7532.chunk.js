"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[373],{8754:(t,s,e)=>{e.d(s,{A:()=>o});const i="Banner_banner__7KCUI";var a=e(579);const o=()=>(0,a.jsx)("div",{className:i,children:(0,a.jsx)("img",{src:"https://yandex-images.clstorage.net/5nFH4F113/765da0PBAr/qLLvzCHlA0c1qA8itqd5-RKyxsMUMayQO_guczBJ44RULBKXH5z4CTyWpPDy8yOR5Mq-ch-h0btF2nVv6D4KeOrrr55nu0RHMLxEKPq9dekH_tuAAXO1lDyhInQJIZf9IBdp_DO_0CZxxf3xp7xs26mk2Gdv1f-2HbYPeuheeiO9hc7qA_RIYBSLRhW-qF73D_na3wNQlcQk8nw1EgmZ0xM-d_8fit0wRcb09ISeINGQgt0CY__hkzGGC0XBUlA-srfL3SbsaEY4ukg6krpe1Qvo2_45dLznKPZ0EiUokMk6IGnINpDLK07C5OCulRvDhqnoMkD547wumCxj519wDZOh6N0L1WJFBI9KEIWrS90O0uPiL3ev6zfGeCg1H5zGAy9n7xGf9CZN6tzsq5Aw-IyrwyJdwuWhHJoQdPN3aAaTmsr1HOF1XCG4aB6tpVz5I8_O4BFwkeQh31coHRuF-hEDZN41qMEpefzG85KAFNC6rdIyccvcmQ6SN3fqYF0IjobT5ivXf346vEMsopB60w7p_eMGU47sJe1lKScNocgmLlD6OajKGmzV8NawnST5tKjUI1ze87YVpCJo5XpnP7i37_US2VhhML5tFZ-jWP8g5PvRMH2pySTmcAsXK5PbKgtt9j-o9xBY7sXUs4wK_Iu69SBx_s6iOIQCcexZSDCwodbqOuxCeCSrdSK7n07vAdfLwA5ro_w-63cwJT2DziUFf90MrvMAWubyzaiSGtqWjdcfYPLNkSavDlLSfG4Lu4Ho_QHSTG0TtGU0ortKzj7f-sEwWpHsJ-VEJDISrsYDL27LKa_2EFzt-MWqpQTImJLRL0PR_ZQwlhFiyUN9O4iYyNgW10tnHIJpGoSMWs8ey9LnLUStwR_LVD01E7DwLRhM6g-a_Q56y9v7mKYR7pCR6Spkx_-aNpYyVOBbcCuOifLKNfVcXyeIVgyOgmTaOfr4yQJJl94Ay0QQDy0",alt:""})})},6373:(t,s,e)=>{e.r(s),e.d(s,{default:()=>L});var i=e(3216),a=e(5043),o=e(3003);const r="Profile_profile__page__v7cwG";var n=e(8754);const l={user:"ProfileInfo_user__-Z6mX",user__icon:"ProfileInfo_user__icon__6ChbD",user__info:"ProfileInfo_user__info__XFKJH",user_status:"ProfileInfo_user_status__4mWOV",user_status__text:"ProfileInfo_user_status__text__jrsjG",user_status__field:"ProfileInfo_user_status__field__fizrS"};var u=e(2256),p=e(579);class d extends a.Component{constructor(){super(...arguments),this.state={editStatusMode:!1,status:this.props.status}}activateEditStatusMode(){this.setState({editStatusMode:!0})}deactivateEditStatusMode(){this.setState({editStatusMode:!1}),this.props.updateStatus(this.state.status)}onStatusChange(t){this.setState({status:t.currentTarget.value})}componentDidUpdate(t,s,e){t.status!==this.props.status&&this.setState({status:this.props.status})}render(){return(0,p.jsxs)("div",{className:l.user_status,children:[!this.state.editStatusMode&&(0,p.jsx)("div",{className:l.user_status__text,children:(0,p.jsx)("span",{onDoubleClick:this.activateEditStatusMode.bind(this),children:this.props.status||"No status"})}),this.state.editStatusMode&&(0,p.jsxs)("div",{className:l.user_status__field,children:[(0,p.jsx)("input",{type:"text",value:this.state.status,autoFocus:!0,onChange:this.onStatusChange.bind(this)}),(0,p.jsx)("button",{onClick:this.deactivateEditStatusMode.bind(this)})]})]})}}const _=d;var c=e(6676);const h=t=>t.profile?(0,p.jsxs)("div",{className:l.user,children:[(0,p.jsx)("div",{className:l.user__icon,children:(0,p.jsx)("img",{src:t.profile.photos&&null===t.profile.photos.small?c:t.profile.photos.small,alt:t.profile.fullName})}),(0,p.jsxs)("div",{className:l.user__info,children:[(0,p.jsx)("p",{className:l.user__name,children:t.profile.fullName}),(0,p.jsx)("p",{children:"Date of Birth: 2 January"}),(0,p.jsx)("p",{children:"Location: Moscow"}),(0,p.jsx)(_,{status:t.status,updateStatus:t.updateProfileStatus})]})]}):(0,p.jsx)(u.A,{parent:"profile_loading"}),f={field_wrap:"MyPosts_field_wrap__snJtv"},m={item:"Post_item__J9NZa",item__img:"Post_item__img__jj3Ln",item__like:"Post_item__like__x3w-m"},x=t=>(0,p.jsxs)("div",{className:m.item,children:[(0,p.jsx)("div",{className:m.item__img,children:(0,p.jsx)("img",{src:"https://i.pinimg.com/736x/e8/35/d9/e835d94e30b8779cb8bc732947db4448.jpg",alt:""})}),(0,p.jsx)("div",{className:m.item__text,children:t.message}),(0,p.jsxs)("div",{className:m.item__like,children:[(0,p.jsx)("span",{className:m.item__like_count,children:t.likeCount}),(0,p.jsx)("button",{})]})]});var g=e(5963),j=e(3842),P=e(6545),S=e(2077);const v=a.memo((t=>{const s=t.profilePage.postsData.map(((t,s)=>(0,p.jsx)(x,{message:t.text,likeCount:t.like},s)));return(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:"My posts"}),(0,p.jsx)(N,{onSubmit:s=>{t.addPost(s.newPost)}}),(0,p.jsx)("div",{className:f.posts,children:s})]})})),I=(0,P.d)(10),N=(0,j.A)({form:"profile-new-post"})((t=>(0,p.jsxs)("form",{className:f.field_wrap,onSubmit:t.handleSubmit(t.onSubmit),children:[(0,p.jsx)(g.A,{component:S.T,placeholder:"What's new?",name:"newPost",validate:[P.m,I]}),(0,p.jsx)("button",{})]})));var w=e(5977);const y=(0,o.Ng)((t=>({profilePage:t.profilePage})),(t=>({addPost:s=>{t((0,w.oL)(s))}})))(v),C=t=>(0,p.jsx)("div",{className:r,children:t.profileIsFetching?(0,p.jsx)(u.A,{parent:"profile_loading"}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.A,{}),(0,p.jsx)(h,{profile:t.profile,status:t.status,updateProfileStatus:t.updateProfileStatusThunk}),(0,p.jsx)(y,{})]})});var D=e(7789),b=e(3923);class k extends a.Component{constructor(){super(...arguments),this.fetchProfileData=()=>{this.props.setProfileFetchingStatus(!0);let t=this.props.profileId;t||(t=this.props.authorizedUserId,t||this.props.history.push("/login")),this.props.getProfileDataThunk(t),this.props.getProfileStatusThunk(t)}}componentDidMount(){this.fetchProfileData()}componentDidUpdate(t){t.profileId!==this.props.profileId&&this.fetchProfileData()}render(){return(0,p.jsx)(C,{...this.props})}}const M=(0,b.Zz)((0,o.Ng)((t=>({profile:t.profilePage.profile,profileIsFetching:t.profilePage.profileIsFetching,myProfile:t.profilePage.myProfile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth})),(t=>({setProfileInfo:s=>{t((0,w.Yn)(s))},setProfileFetchingStatus:s=>{t((0,w.cY)(s))},setProfileStatus:s=>{t((0,w.qP)(s))},getProfileDataThunk:s=>{t((0,w.iA)(s))},getProfileStatusThunk:s=>{t((0,w.Eg)(s))},updateProfileStatusThunk:s=>{t((0,w.DM)(s))}}))),D.H)(k),L=()=>{const{profileId:t}=(0,i.g)();return(0,p.jsx)(M,{profileId:t})}},6676:(t,s,e)=>{t.exports=e.p+"static/media/channels4_profile.dbe0fbb65967637776d2.jpg"}}]);
//# sourceMappingURL=373.783e7532.chunk.js.map