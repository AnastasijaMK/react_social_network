"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[373],{8754:(t,s,e)=>{e.d(s,{A:()=>r});const i="Banner_banner__7KCUI";var a=e(579);const r=()=>(0,a.jsx)("div",{className:i,children:(0,a.jsx)("img",{src:"https://yandex-images.clstorage.net/5nFH4F113/765da0PBAr/qLLvzCHlA0c1qA8itqd5-RKyxsMUMayQO_guczBJ44RULBKXH5z4CTyWpPDy8yOR5Mq-ch-h0btF2nVv6D4KeOrrr55nu0RHMLxEKPq9dekH_tuAAXO1lDyhInQJIZf9IBdp_DO_0CZxxf3xp7xs26mk2Gdv1f-2HbYPeuheeiO9hc7qA_RIYBSLRhW-qF73D_na3wNQlcQk8nw1EgmZ0xM-d_8fit0wRcb09ISeINGQgt0CY__hkzGGC0XBUlA-srfL3SbsaEY4ukg6krpe1Qvo2_45dLznKPZ0EiUokMk6IGnINpDLK07C5OCulRvDhqnoMkD547wumCxj519wDZOh6N0L1WJFBI9KEIWrS90O0uPiL3ev6zfGeCg1H5zGAy9n7xGf9CZN6tzsq5Aw-IyrwyJdwuWhHJoQdPN3aAaTmsr1HOF1XCG4aB6tpVz5I8_O4BFwkeQh31coHRuF-hEDZN41qMEpefzG85KAFNC6rdIyccvcmQ6SN3fqYF0IjobT5ivXf346vEMsopB60w7p_eMGU47sJe1lKScNocgmLlD6OajKGmzV8NawnST5tKjUI1ze87YVpCJo5XpnP7i37_US2VhhML5tFZ-jWP8g5PvRMH2pySTmcAsXK5PbKgtt9j-o9xBY7sXUs4wK_Iu69SBx_s6iOIQCcexZSDCwodbqOuxCeCSrdSK7n07vAdfLwA5ro_w-63cwJT2DziUFf90MrvMAWubyzaiSGtqWjdcfYPLNkSavDlLSfG4Lu4Ho_QHSTG0TtGU0ortKzj7f-sEwWpHsJ-VEJDISrsYDL27LKa_2EFzt-MWqpQTImJLRL0PR_ZQwlhFiyUN9O4iYyNgW10tnHIJpGoSMWs8ey9LnLUStwR_LVD01E7DwLRhM6g-a_Q56y9v7mKYR7pCR6Spkx_-aNpYyVOBbcCuOifLKNfVcXyeIVgyOgmTaOfr4yQJJl94Ay0QQDy0",alt:""})})},6373:(t,s,e)=>{e.r(s),e.d(s,{default:()=>k});var i=e(3216),a=e(5043),r=e(3003);const o="Profile_profile__page__v7cwG";var l=e(8754);const n={user:"ProfileInfo_user__-Z6mX",user__icon:"ProfileInfo_user__icon__6ChbD",user__info:"ProfileInfo_user__info__XFKJH",user_status:"ProfileInfo_user_status__4mWOV",user_status__text:"ProfileInfo_user_status__text__jrsjG",user_status__field:"ProfileInfo_user_status__field__fizrS"};var d=e(2256),u=e(579);class p extends a.Component{constructor(){super(...arguments),this.state={editStatusMode:!1,status:this.props.status}}activateEditStatusMode(){this.setState({editStatusMode:!0})}deactivateEditStatusMode(){this.setState({editStatusMode:!1}),this.props.updateStatus(this.state.status)}onStatusChange(t){this.setState({status:t.currentTarget.value})}componentDidUpdate(t,s,e){t.status!==this.props.status&&this.setState({status:this.props.status})}render(){return(0,u.jsxs)("div",{className:n.user_status,children:[!this.state.editStatusMode&&(0,u.jsx)("div",{className:n.user_status__text,children:(0,u.jsx)("span",{onDoubleClick:this.activateEditStatusMode.bind(this),children:this.props.status||"No status"})}),this.state.editStatusMode&&(0,u.jsxs)("div",{className:n.user_status__field,children:[(0,u.jsx)("input",{type:"text",value:this.state.status,autoFocus:!0,onChange:this.onStatusChange.bind(this)}),(0,u.jsx)("button",{onClick:this.deactivateEditStatusMode.bind(this)})]})]})}}const h=p;var c=e(6676);const _=t=>t.profile?(0,u.jsxs)("div",{className:n.user,children:[(0,u.jsx)("div",{className:n.user__icon,children:(0,u.jsx)("img",{src:t.profile.photos&&null===t.profile.photos.small?c:t.profile.photos.small,alt:t.profile.fullName})}),(0,u.jsxs)("div",{className:n.user__info,children:[(0,u.jsx)("p",{className:n.user__name,children:t.profile.fullName}),(0,u.jsx)("p",{children:"Date of Birth: 2 January"}),(0,u.jsx)("p",{children:"Location: Moscow"}),(0,u.jsx)(h,{status:t.status,updateStatus:t.updateProfileStatus})]})]}):(0,u.jsx)(d.A,{parent:"profile_loading"}),f={field_wrap:"MyPosts_field_wrap__snJtv"},m={item:"Post_item__J9NZa",item__img:"Post_item__img__jj3Ln",item__like:"Post_item__like__x3w-m"},x=t=>(0,u.jsxs)("div",{className:m.item,children:[(0,u.jsx)("div",{className:m.item__img,children:(0,u.jsx)("img",{src:"https://i.pinimg.com/736x/e8/35/d9/e835d94e30b8779cb8bc732947db4448.jpg",alt:""})}),(0,u.jsx)("div",{className:m.item__text,children:t.message}),(0,u.jsxs)("div",{className:m.item__like,children:[(0,u.jsx)("span",{className:m.item__like_count,children:t.likeCount}),(0,u.jsx)("button",{children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",x:"0",y:"0",viewBox:"0 0 391.837 391.837",children:(0,u.jsx)("g",{children:(0,u.jsx)("path",{d:"M285.257 35.528c58.743.286 106.294 47.836 106.58 106.58 0 107.624-195.918 214.204-195.918 214.204S0 248.165 0 142.108c0-58.862 47.717-106.58 106.58-106.58a105.534 105.534 0 0 1 89.339 48.065 106.578 106.578 0 0 1 89.338-48.065z",fill:"#ffffff"})})})})]})]});var g=e(5963),j=e(3842),P=e(6545),v=e(2077);const S=a.memo((t=>{const s=t.profilePage.postsData.map(((t,s)=>(0,u.jsx)(x,{message:t.text,likeCount:t.like},s)));return(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:"My posts"}),(0,u.jsx)(I,{onSubmit:s=>{t.addPost(s.newPost)}}),(0,u.jsx)("div",{className:f.posts,children:s})]})})),w=(0,P.d)(10),I=(0,j.A)({form:"profile-new-post"})((t=>(0,u.jsxs)("form",{className:f.field_wrap,onSubmit:t.handleSubmit(t.onSubmit),children:[(0,u.jsx)(g.A,{component:v.T,placeholder:"What's new?",name:"newPost",validate:[P.m,w]}),(0,u.jsx)("button",{children:(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",children:[(0,u.jsx)("g",{"clip-path":"url(#clip0_1608_2)",children:(0,u.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M366.263 145.737L197.301 263.046L20.5754 204.13C8.23968 200.01 -0.0710129 188.436 -3.71852e-05 175.433C0.0718724 162.431 8.47782 150.928 20.8612 146.951L472.689 1.44658C483.429 -2.00601 495.217 0.827411 503.195 8.80564C511.173 16.7839 514.007 28.5714 510.553 39.3121L365.049 491.139C361.072 503.522 349.569 511.928 336.567 512C323.564 512.071 311.99 503.76 307.87 491.425L248.668 313.842L366.263 145.737Z",fill:"white"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"clip0_1608_2",children:(0,u.jsx)("rect",{width:"512",height:"512",fill:"white"})})})]})})]})));var C=e(5977);const N=(0,r.Ng)((t=>({profilePage:t.profilePage})),(t=>({addPost:s=>{t((0,C.oL)(s))}})))(S),L=t=>(0,u.jsx)("div",{className:o,children:t.profileIsFetching?(0,u.jsx)(d.A,{parent:"profile_loading"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.A,{}),(0,u.jsx)(_,{profile:t.profile,status:t.status,updateProfileStatus:t.updateProfileStatusThunk}),(0,u.jsx)(N,{})]})});var y=e(7789),M=e(3923);class D extends a.Component{constructor(){super(...arguments),this.fetchProfileData=()=>{this.props.setProfileFetchingStatus(!0);let t=this.props.profileId;t||(t=this.props.authorizedUserId,t||this.props.history.push("/login")),this.props.getProfileDataThunk(t),this.props.getProfileStatusThunk(t)}}componentDidMount(){this.fetchProfileData()}componentDidUpdate(t){t.profileId!==this.props.profileId&&this.fetchProfileData()}render(){return(0,u.jsx)(L,{...this.props})}}const b=(0,M.Zz)((0,r.Ng)((t=>({profile:t.profilePage.profile,profileIsFetching:t.profilePage.profileIsFetching,myProfile:t.profilePage.myProfile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth})),(t=>({setProfileInfo:s=>{t((0,C.Yn)(s))},setProfileFetchingStatus:s=>{t((0,C.cY)(s))},setProfileStatus:s=>{t((0,C.qP)(s))},getProfileDataThunk:s=>{t((0,C.iA)(s))},getProfileStatusThunk:s=>{t((0,C.Eg)(s))},updateProfileStatusThunk:s=>{t((0,C.DM)(s))}}))),y.H)(D),k=()=>{const{profileId:t}=(0,i.g)();return(0,u.jsx)(b,{profileId:t})}},6676:(t,s,e)=>{t.exports=e.p+"static/media/channels4_profile.dbe0fbb65967637776d2.jpg"}}]);
//# sourceMappingURL=373.3feb9673.chunk.js.map