"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[457],{8648:(s,e,a)=>{a.d(e,{A:()=>n});const i="Dialog_dialogs__item__JU9IK",_="Dialog_dialogs__link__UTsTz",l="Dialog_dialogs__link_active__NWPsJ",d="Dialog_dialogs__img__Qy7gq";var r=a(5475),g=a(579);const n=s=>{const e=`/dialogs/${s.user_id}`;return(0,g.jsx)("div",{className:i,children:(0,g.jsxs)(r.k2,{className:s=>{let{isActive:e}=s;return e?`${_} ${l}`:_},to:e,children:[(0,g.jsx)("div",{className:d,children:(0,g.jsx)("img",{src:s.user_img,alt:s.user})}),(0,g.jsx)("p",{children:s.user})]})})}},8457:(s,e,a)=>{a.r(e),a.d(e,{default:()=>x});var i=a(3003),_=(a(5043),a(8648)),l=a(5529),d=a(8986),r=a(5963),g=a(3842),n=a(2077),o=a(6545),m=a(579);const t=(0,o.d)(100),c=(0,g.A)({form:"dialog-new-message"})((s=>(0,m.jsxs)("form",{className:d.A.field_wrap,onSubmit:s.handleSubmit(s.onSubmit),children:[(0,m.jsx)(r.A,{component:n.T,name:"newMessage",placeholder:"Enter your message...",validate:[o.m,t]}),(0,m.jsx)("button",{})]}))),u=s=>{const e=s.usersData,a=s.dialogsPage.messagesData,i=e.map((s=>(0,m.jsx)(_.A,{user:s.name,user_id:s.id,user_img:s.img},s.id))),r=a.map((s=>{const a=e.find((e=>e.id===s.userId));return(0,m.jsx)(l.A,{text:s.message,user:a.name,avatar:a.img,isCurrent:s.isCurrent},s.id)}));return(0,m.jsxs)("div",{className:d.A.dialogs,children:[(0,m.jsx)("div",{className:d.A.dialogs__head,children:(0,m.jsx)("h1",{children:"Dialogs"})}),(0,m.jsxs)("div",{className:d.A.dialogs__inner,children:[(0,m.jsx)("div",{className:d.A.dialogs__list,children:i}),(0,m.jsxs)("div",{className:d.A.dialogs__messages,children:[(0,m.jsx)("div",{className:d.A.dialogs__messages_list,children:r}),(0,m.jsx)(c,{onSubmit:e=>{""!==e.newMessage.trim()&&s.sendMessage(e.newMessage)}})]})]})]})};var h=a(1344);const x=(0,i.Ng)((s=>({dialogsPage:s.dialogsPage,usersData:s.commonData.usersData})),(s=>({sendMessage:e=>{s((0,h.z)(e))}})))(u)},5529:(s,e,a)=>{a.d(e,{A:()=>o});const i="Message_message__rjHQQ",_="Message_message_current__nb+YB",l="Message_message__user__fC4PY",d="Message_message__img__6itM5",r="Message_message__name__onwzr",g="Message_message__content__GWqau";var n=a(579);const o=s=>(0,n.jsxs)("div",{className:s.isCurrent?`${i} ${_}`:i,children:[(0,n.jsx)("div",{className:l,children:(0,n.jsx)("div",{className:d,children:(0,n.jsx)("img",{src:s.avatar,alt:s.user})})}),(0,n.jsxs)("div",{className:g,children:[(0,n.jsx)("span",{className:r,children:s.user}),s.text]})]})},8986:(s,e,a)=>{a.d(e,{A:()=>i});const i={dialogs__head:"Dialogs_dialogs__head__q7MO6",dialogs__inner:"Dialogs_dialogs__inner__G9P9J",dialogs__list:"Dialogs_dialogs__list__ZkKXL",dialogs__messages:"Dialogs_dialogs__messages__DOZ-s",field_wrap:"Dialogs_field_wrap__vwMZw"}}}]);
//# sourceMappingURL=457.1e2aad08.chunk.js.map